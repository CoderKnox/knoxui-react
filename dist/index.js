"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("lucide-react");require("jspdf-autotable");var r=require("xlsx"),n=require("jspdf");function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var c=o(e),l=a(e),s=a(n),i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};function u(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function d(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var m={xs:"px-2 py-0.5 text-xs",s:"px-3 py-1 text-sm",m:"px-4 py-1.5 text-base",l:"px-5 py-2 text-lg",xl:"px-6 py-2.5 text-xl"},p={primary:"bg-primary border-primary hover:bg-primary/50 text-white",secondary:"bg-secondary border-secondary hover:bg-secondary-600 text-white",success:"bg-success border-success hover:bg-success-600 text-white",warning:"bg-warning border-warning hover:bg-warning-600 text-white",error:"bg-error border-error hover:bg-error-600 text-white",ghost:"bg-ghost border-ghost hover:bg-gray-100 text-gray-800 dark:text-gray-100 dark:hover:bg-gray-800/50"},f={ripple:"overflow-hidden relative",push:"transform active:scale-90 transition-transform",none:""},b=function(e){var t=e.children,r=e.size,n=void 0===r?"m":r,a=e.color,o=void 0===a?"primary":a,l=e.clickEffect,s=void 0===l?"ripple":l,d=e.isLoading,b=void 0!==d&&d,g=e.className,h=void 0===g?"":g,v=e.disabled,y=void 0!==v&&v,x=e.onClick,E=u(e,["children","size","color","clickEffect","isLoading","className","disabled","onClick"]),w="font-semibold rounded-md transition-colors duration-400 h-min select-none border duration-200 transition-all hover:shadow-lg focus:shadow-lg ".concat(y&&"opacity-90 cursor-not-allowed"," ").concat(h),N=m[n]||m.m,k=p[o]||p.primary,C=f[s]||f.ripple;b&&(w="".concat(w," opacity-90 cursor-progress"));return c.createElement("button",i({className:"".concat(w," ").concat(N," ").concat(k," ").concat(C," ").concat(h),onClick:function(e){if("ripple"===s&&!b){var t=e.currentTarget,r=t.querySelector(".new-ripple");if(r){var n=t.getBoundingClientRect(),a=e.clientX-n.left,o=e.clientY-n.top,c=Math.max(n.width,n.height);r.style.left="".concat(a-c/4,"px"),r.style.top="".concat(o-c/4,"px"),r.style.width="".concat(c/2,"px"),r.style.height="".concat(c/2,"px"),r.classList.remove("hidden"),r.classList.add("animate-ripple"),setTimeout((function(){r.classList.remove("animate-ripple"),r.classList.add("hidden")}),600)}}x&&x(e)},disabled:y||b},E),"ripple"===s&&c.createElement("span",{className:"animate-ripple new-ripple absolute bg-white opacity-25 rounded-full hidden"}),b?c.createElement("span",{className:"flex items-center justify-center"},c.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},c.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):t)},g={primary:"border-primary outline-primary accent-primary",secondary:"border-secondary outline-secondary accent-secondary",success:"border-success outline-success accent-success",warning:"border-warning outline-warning accent-warning",error:"border-error outline-error accent-error",ghost:"border-ghost focus:border-base-300 outline-none"},h={xs:"p-0.5 text-xs",s:"p-1 text-sm",m:"p-1.5 text-base",l:"p-2 text-lg",xl:"p-3 text-xl"},v={primary:"border-primary outline-primary",secondary:"border-secondary outline-secondary",success:"border-success outline-success",warning:"border-warning outline-warning",error:"border-error outline-error",ghost:"border-ghost focus:border-base-300 outline-none"},y=function(e){var t=e.label,r=e.size,n=void 0===r?"m":r,a=e.color,o=e.type,l=void 0===o?"text":o,s=e.required,d=e.className,m=void 0===d?"":d,p=e.wrapperClass,f=void 0===p?"":p,b=e.labelClass,g=void 0===b?"":b,y=e.labelTextClass,x=void 0===y?"":y,E=e.sx,w=e.onChange,N=u(e,["label","size","color","type","required","className","wrapperClass","labelClass","labelTextClass","sx","onChange"]);return c.createElement("div",{className:f,style:E},c.createElement("label",{className:"flex flex-col items-start ".concat(g)},t&&c.createElement("span",{className:"text-sm px-0.5 ".concat(x)},t," ",s&&c.createElement("span",{className:"text-error"},"*")),c.createElement("input",i({type:l,className:"".concat("w-full border rounded-md transition-all duration-200 focus:shadow-lg bg-base-200 border-base-300"," ").concat(h[n]," ").concat(a?v[a]:""," ").concat(m),required:s,onChange:w},N))))},x={xs:"p-0.5 text-xs",s:"p-1 text-sm",m:"p-1.5 text-base",l:"p-2 text-lg",xl:"p-3 text-xl"},E={primary:"border-primary outline-primary accent-primary",secondary:"border-secondary outline-secondary accent-secondary",success:"border-success outline-success accent-success",warning:"border-warning outline-warning accent-warning",error:"border-error outline-error accent-error",ghost:"border-ghost focus:border-base-300 outline-none"},w={primary:"bg-primary",secondary:"bg-secondary",success:"bg-success",warning:"bg-warning",error:"bg-error",ghost:"bg-base-300"},N="w-full border rounded-md transition-all duration-200 focus:shadow-lg bg-base-200 border-base-300 flex items-center",k=function(e){var t=e.checked,r=e.size,n=void 0===r?"m":r,a=e.color,o=void 0===a?"primary":a,l=e.label,s=e.onChange,d=e.className,m=void 0===d?"":d,p=e.wrapperClass,f=void 0===p?"":p,b=e.sx,g=e.isButton,h=void 0!==g&&g,v=u(e,["checked","size","color","label","onChange","className","wrapperClass","sx","isButton"]);return h?c.createElement("label",{className:"".concat(N," ").concat(x[n]," ").concat(E[o]," ").concat(t?w[o]:""," ").concat(m," cursor-pointer"),style:b},c.createElement("input",i({type:"radio",checked:t,onChange:s,className:"sr-only"},v)),c.createElement("span",{className:"w-full text-center ".concat(t?"text-white":"")},l)):c.createElement(c.Fragment,null,l?c.createElement("div",{className:f,style:b},c.createElement("label",{className:"".concat(N," ").concat(x[n]," ").concat(t?w[o]:"")},c.createElement("input",i({type:"radio",checked:t,className:"".concat(E[o]," ").concat(m),onChange:s},v)),c.createElement("span",{className:"ml-2 ".concat(t?"text-white":"")},l))):c.createElement("input",i({type:"radio",className:"".concat(E[o]," ").concat(m," ").concat(t?w[o]:""),checked:t,onChange:s,style:b},v)))},C={xs:"text-xs",s:"text-sm",m:"text-base",l:"text-lg",xl:"text-xl"},S={primary:"border-primary focus:border-primary",secondary:"border-secondary focus:border-secondary",success:"border-success focus:border-success",warning:"border-warning focus:border-warning",error:"border-error focus:border-error",ghost:"border-ghost focus:border-base-300"};function D(t,r){void 0===r&&(r=null);var n=e.useState(r),a=n[0],o=n[1];return{items:e.useMemo((function(){var e=d([],t,!0);return null!==a&&e.sort((function(e,t){return e[a.key]<t[a.key]?"asc"===a.direction?-1:1:e[a.key]>t[a.key]?"asc"===a.direction?1:-1:0})),e}),[t,a]),requestSort:function(e){var t="asc";a&&a.key===e&&"asc"===a.direction&&(t="desc"),o({key:e,direction:t})},sortConfig:a}}function O(t,r){var n=e.useState({}),a=n[0],o=n[1];return{filteredItems:e.useMemo((function(){return t.filter((function(e){return(!a.global||Object.values(e).some((function(e){return String(e).toLowerCase().includes(a.global.toLowerCase())})))&&r.every((function(t){var r=a[t];return!r||String(e[t]).toLowerCase().includes(r.toLowerCase())}))}))}),[t,r,a]),setFilter:function(e,t){o((function(r){var n;return i(i({},r),((n={})[e]=t,n))}))},filterValues:a}}function _(t){var r=e.useState(t),n=r[0],a=r[1];return{columns:n,handleDragStart:function(e){return function(t){t.dataTransfer.setData("text/plain",e.toString())}},handleDragOver:function(e){e.preventDefault()},handleDrop:function(e){return function(t){t.preventDefault();var r=parseInt(t.dataTransfer.getData("text/plain"),10);if(r!==e){var o=d([],n,!0),c=o.splice(r,1)[0];o.splice(e,0,c),a(o)}}}}}var j=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},T=function(e,t){return void 0===t&&(t="USD"),new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)},z=function(e,t){return void 0===t&&(t=2),e.toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:t})},P=function(e,t,n){var a=r.utils.json_to_sheet(e.map((function(e){return t.reduce((function(t,r){var n;return i(i({},t),((n={})[r.header]=e[r.key],n))}),{})}))),o=r.utils.book_new();r.utils.book_append_sheet(o,a,"Sheet1"),r.writeFile(o,"".concat(n,".xlsx"))},L=function(e,t,r){var n=new s.default,a=e.map((function(e){return t.map((function(t){return e[t.key]}))})),o=t.map((function(e){return e.header}));n.autoTable({head:[o],body:a}),n.save("".concat(r,".pdf"))},F=function(e,t){return e.reduce((function(e,r){return e+r[t]}),0)},q={xs:"text-xs [&>_tbody>*_td]:p-0.5 [&>_tbody>*_th]:p-0.5",s:"text-sm [&>_tbody>*_td]:p-1   [&>_tbody>*_th]:p-1 ",m:"text-base [&>_tbody>*_td]:p-1.5 [&>_tbody>*_th]:p-1.5",l:"text-lg [&>_tbody>*_td]:p-2   [&>_tbody>*_th]:p-2 ",xl:"text-xl [&>_tbody>*_td]:p-2.5 [&>_tbody>*_th]:p-2.5"},M={xs:"p-0.5 text-xs",s:"p-1 text-sm",m:"p-1.5 text-base",l:"p-2 text-lg",xl:"p-3 text-xl"},A={primary:"border-primary outline-primary",secondary:"border-secondary outline-secondary",success:"border-success outline-success",warning:"border-warning outline-warning",error:"border-error outline-error",ghost:"border-ghost focus:border-base-300 outline-none"},B=e.createContext(void 0);exports.Button=b,exports.Checkbox=function(e){var t=e.checked,r=e.size,n=void 0===r?"m":r,a=e.color,o=void 0===a?"primary":a,l=e.label,s=e.onChange,d=e.className,m=void 0===d?"":d,p=e.wrapperClass,f=void 0===p?"":p,b=e.sx,h=u(e,["checked","size","color","label","onChange","className","wrapperClass","sx"]),v={xs:l?"p-0.5 text-xs":"h-3 w-3",s:l?"p-1 text-sm":"h-4 w-4",m:l?"p-1.5 text-base":"h-5 w-5",l:l?"p-2 text-lg":"h-6 w-6",xl:l?"p-3 text-xl":"h-7 w-7"};return c.createElement(c.Fragment,null,l?c.createElement("div",{className:f,style:b},c.createElement("label",{className:"".concat("w-full border rounded-md transition-all duration-200 focus:shadow-lg bg-base-200 border-base-300 flex"," ").concat(v[n])},c.createElement("input",i({type:"checkbox",checked:t,className:"".concat(g[o]," ").concat(m),onChange:s},h)),c.createElement("span",{className:"ml-2"},l))):c.createElement("input",i({type:"checkbox",className:"".concat(g[o]," ").concat(m," ").concat(v[n]),checked:t,onChange:s,style:b},h)))},exports.Input=y,exports.PivotTable=function(e){var r,n,a,o,l,s,i=e.initialData,u=function(e,t){return d([],e,!0).sort((function(e,r){for(var n=0,a=t;n<a.length;n++){var o=a[n];if(e[o]<r[o])return-1;if(e[o]>r[o])return 1}return 0}))},m=c.useState(i)[0],p=c.useState([]),f=p[0],g=p[1],h=c.useState([]),v=h[0],x=h[1],E=c.useState([]),w=E[0],N=E[1],C=c.useState("sum"),S=C[0],D=C[1],O=c.useState(null),_=O[0],j=O[1],T=c.useState(!1),z=T[0],P=T[1],L=c.useMemo((function(){var e=d(d(d([],f,!0),v,!0),w,!0);return["buyer","style","orderNumber","color","orderQty","pricePerPcs"].filter((function(t){return!e.includes(t)}))}),[f,v,w]),F=function(e,t){e.dataTransfer.setData("field",t)},q=function(e,t){j(t),e.dataTransfer.setData("valueField",t)},M=function(e,t){_&&_!==t&&e.preventDefault()},A=function(e,t){e.preventDefault();var r=_;if(r&&r!==t){var n=d([],f,!0),a=n.indexOf(r),o=n.indexOf(t);n.splice(a,1),n.splice(o,0,r),g(n)}j(null)},B=function(e,t){e.preventDefault();var r=e.dataTransfer.getData("field");switch(g(f.filter((function(e){return e!==r}))),x(v.filter((function(e){return e!==r}))),N(w.filter((function(e){return e!==r}))),t){case"values":f.includes(r)||g(d(d([],f,!0),[r],!1));break;case"rows":v.includes(r)||x(d(d([],v,!0),[r],!1));break;case"columns":w.includes(r)||N(d(d([],w,!0),[r],!1))}},I=function(e){e.preventDefault()},U=function(e,t){switch(t){case"values":g(f.filter((function(t){return t!==e})));break;case"rows":x(v.filter((function(t){return t!==e})));break;case"columns":N(w.filter((function(t){return t!==e})))}},R=function(e,t,r){if(!e)return 0;var n=r?e.filter((function(e){return w.every((function(t){return e[t]===r}))})):e;return"sum"===S?n.reduce((function(e,r){return e+(r[t]||0)}),0):n.length};return c.createElement("div",{className:"space-y-2"},c.createElement("div",{className:"bg-base-100 rounded"},c.createElement("div",{className:"flex space-x-2 w-full overflow-auto"},c.createElement("div",{className:"border rounded bg-base-200 w-full"},c.createElement("h3",{className:"font-semibold p-1 text-center w-full bg-base-300 border-b"},"Values"),c.createElement("div",{className:"h-48 overflow-y-auto p-2",onDrop:function(e){return B(e,"values")},onDragOver:I},c.createElement("div",{className:"flex w-full pb-2 space-x-2"},c.createElement(k,{checked:"sum"===S,onChange:function(){return D("sum")},label:"SUM",isButton:!0,size:"s"}),c.createElement(k,{checked:"count"===S,onChange:function(){return D("count")},label:"COUNT",isButton:!0,size:"s"})),c.createElement("div",null,f.map((function(e){return c.createElement("div",{key:e,draggable:!0,className:"bg-base-100 border p-2 mb-1 rounded flex justify-between items-center cursor-move hover:shadow-lg duration-200",onDragStart:function(t){return F(t,e)}},c.createElement("span",null,e),c.createElement("button",{onClick:function(){return U(e,"values")},className:"text-error hover:text-warning"},"×"))}))))),c.createElement("div",{className:"border rounded bg-base-200 w-full"},c.createElement("h3",{className:"font-semibold p-1 text-center w-full bg-base-300 border-b"},"Rows"),c.createElement("div",{className:"overflow-y-auto h-48 p-2",onDrop:function(e){return B(e,"rows")},onDragOver:I},v.map((function(e){return c.createElement("div",{key:e,className:"bg-base-100 border p-2 mb-1 rounded flex justify-between items-center cursor-move hover:shadow-lg duration-200",draggable:!0,onDragStart:function(t){return F(t,e)}},c.createElement("span",null,e),c.createElement("button",{onClick:function(){return U(e,"rows")},className:"text-error hover:text-warning"},"×"))})))),c.createElement("div",{className:"border rounded bg-base-200 w-full"},c.createElement("h3",{className:"font-semibold p-1 text-center w-full bg-base-300 border-b"},"Columns"),c.createElement("div",{className:"overflow-y-auto h-48 p-2",onDrop:function(e){return B(e,"columns")},onDragOver:I},w.map((function(e){return c.createElement("div",{key:e,className:"bg-base-100 shadow cursor-move p-2 mb-1 rounded flex justify-between items-center hover:shadow-lg duration-200",draggable:!0,onDragStart:function(t){return F(t,e)}},c.createElement("span",null,e),c.createElement("button",{onClick:function(){return U(e,"columns")},className:"text-error hover:text-warning"},"×"))})))),c.createElement("div",{className:"border rounded bg-base-200 w-full"},c.createElement("h3",{className:"font-semibold p-1 text-center w-full bg-base-300 border-b"},"Available Fields"),c.createElement("div",{className:"overflow-y-auto h-48 p-2"},L.map((function(e){return c.createElement("div",{key:e,draggable:!0,onDragStart:function(t){return F(t,e)},className:"bg-base-100 shadow p-2 mb-1 rounded cursor-move hover:bg-primary duration-500 transition-colors"},e)})))))),c.createElement("div",{className:"border rounded bg-base-200"},c.createElement("div",{className:"p-2 flex justify-between items-center"},c.createElement("h2",{className:"font-semibold text-lg"},"Pivot Table Title"),c.createElement("div",{className:"flex join space-x- *:!rounded-none"},c.createElement(y,{color:"secondary",placeholder:"Global Search",title:"Real time search in table",className:"rounded-none"}),c.createElement(b,{title:"Export to excel",color:"success",className:"py-2.5"},c.createElement(t.FileDown,{size:16})),c.createElement(b,{title:"Export to PDF",color:"error",className:"py-2.5"},c.createElement(t.FileDown,{size:16})))),f.length>0&&v.length>0&&c.createElement("div",{className:"p-2"},c.createElement("div",{className:"flex justify-between mb-4"},c.createElement("input",{type:"text",placeholder:"Search in table...",className:"px-4 py-2 border rounded text-white"}),c.createElement("div",{className:"space-x-2"},c.createElement("button",{className:"px-4 py-2 bg-purple-600 rounded hover:bg-purple-700"},"Export To PDF"),c.createElement("button",{className:"px-4 py-2 bg-purple-600 rounded hover:bg-purple-700"},"Export To Excel"))),(n=u(m,v).reduce((function(e,t){var r=v.map((function(e){return t[e]})).join("-");return e[r]||(e[r]=[]),e[r].push(t),e}),{}),a=Array.from(new Set(m.map((function(e){return v.map((function(t){return e[t]})).join("-")})))),o=u(a.map((function(e){var t=e.split("-");return v.reduce((function(e,r,n){return e[r]=t[n],e}),{})})),v).map((function(e){return v.map((function(t){return e[t]})).join("-")})),l=w.length>0?(r=w[0],Array.from(new Set(m.map((function(e){return e[r]}))))):[],s=o.reduce((function(e,t){var r=t.split("-").slice(0,-1).join("-");return e[r]||(e[r]=[]),e[r].push(t),e}),{}),c.createElement("div",{className:"overflow-x-auto"},c.createElement("div",{className:"mb-4 flex items-center gap-2"},c.createElement("label",{className:"flex items-center gap-2 text-sm"},c.createElement("input",{type:"checkbox",checked:z,onChange:function(e){return P(e.target.checked)},className:"rounded bg-base-300"}),"Swap values and columns in header")),c.createElement("table",{className:"min-w-full bg-base-300 [&>*_th]:border [&>*_td]:border [&>*_td]:p-1"},c.createElement("thead",{className:"[&>*>th]:bg-base-200"},c.createElement("tr",null,v.map((function(e){return c.createElement("th",{key:e,rowSpan:w.length>0?2:1},e)})),w.length>0&&!z&&f.map((function(e){return c.createElement("th",{key:e,colSpan:l.length,draggable:!0,onDragStart:function(t){return q(t,e)},onDragOver:function(t){return M(t,e)},onDrop:function(t){return A(t,e)},className:"cursor-move hover:bg-base-300"},e)})),w.length>0&&z&&l.map((function(e){return c.createElement("th",{key:e,colSpan:f.length},e)})),0===w.length&&f.map((function(e){return c.createElement("th",{key:e,rowSpan:2,draggable:!0,onDragStart:function(t){return q(t,e)},onDragOver:function(t){return M(t,e)},onDrop:function(t){return A(t,e)},className:"cursor-move hover:bg-gray-700"},e)}))),w.length>0&&c.createElement("tr",null,z?l.map((function(e){return f.map((function(t){return c.createElement("th",{key:"".concat(e,"-").concat(t),draggable:!0,onDragStart:function(e){return q(e,t)},onDragOver:function(e){return M(e,t)},onDrop:function(e){return A(e,t)},className:"cursor-move hover:bg-gray-700"},t)}))})):f.map((function(e){return l.map((function(t){return c.createElement("th",{key:"".concat(e,"-").concat(t)},t)}))})))),c.createElement("tbody",null,Object.entries(s).map((function(e){var t=e[0],r=e[1];return c.createElement(c.Fragment,{key:t},r.map((function(e,t){var a=n[e],o=e.split("-");return c.createElement("tr",{key:e},o.map((function(e,n){if(!function(e,t,r){if(0===e)return!0;for(var n=r[e].split("-"),a=r[e-1].split("-"),o=0;o<=t;o++)if(n[o]!==a[o])return!0;return!1}(t,n,r))return null;var a=function(e,t,r){for(var n=r[e].split("-"),a=1,o=e+1;o<r.length;o++){for(var c=r[o].split("-"),l=!0,s=0;s<=t;s++)if(c[s]!==n[s]){l=!1;break}if(!l)break;a++}return a}(t,n,r);return c.createElement("td",{key:n,rowSpan:a},e)})),w.length>0?z?l.map((function(e){return f.map((function(t){return c.createElement("td",{key:"".concat(e,"-").concat(t)},R(a,t,e))}))})):f.map((function(e){return l.map((function(t){return c.createElement("td",{key:"".concat(e,"-").concat(t)},R(a,e,t))}))})):f.map((function(e){return c.createElement("td",{key:e},R(a,e))})))})),c.createElement("tr",{className:"bg-gray-700 font-bold"},v.map((function(e,t){return t===v.length-1&&c.createElement("td",{key:t,colSpan:v.length},"Sum")})),w.length>0?z?l.map((function(e){return f.map((function(t){return c.createElement("td",{key:"".concat(e,"-").concat(t)},r.reduce((function(r,a){return r+R(n[a],t,e)}),0))}))})):f.map((function(e){return l.map((function(t){return c.createElement("td",{key:"".concat(e,"-").concat(t)},r.reduce((function(r,a){return r+R(n[a],e,t)}),0))}))})):f.map((function(e){return c.createElement("td",{key:e},r.reduce((function(t,r){return t+R(n[r],e)}),0))}))))})))))))))},exports.Radio=k,exports.Select=function(e){var r=e.options,n=void 0===r?[]:r,a=e.placeholder,o=void 0===a?"Select an option":a,l=e.multiple,s=void 0!==l&&l,i=e.onChange,u=e.label,m=e.size,p=void 0===m?"m":m,f=e.color,b=e.required,g=e.className,h=void 0===g?"":g,v=e.wrapperClass,y=void 0===v?"":v,x=e.labelClass,E=void 0===x?"":x,w=e.labelTextClass,N=void 0===w?"":w,k=e.sx,D=e.renderOption,O=e.hideSearch,_=void 0!==O&&O,j=c.useState(!1),T=j[0],z=j[1],P=c.useState([]),L=P[0],F=P[1],q=c.useState(""),M=q[0],A=q[1],B=c.useState(-1),I=B[0],U=B[1],R=c.useRef(null),V=c.useMemo((function(){return n.filter((function(e){return e.label.toLowerCase().includes(M.toLowerCase())}))}),[n,M]),G=function(e){if(s){var t=L.includes(e)?L.filter((function(t){return t!==e})):d(d([],L,!0),[e],!1);F(t),i&&i(t)}else F([e]),z(!1),i&&i(e)};c.useEffect((function(){var e=function(e){R.current&&!R.current.contains(e.target)&&z(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[]);return c.useEffect((function(){T&&U(-1)}),[T]),c.createElement("div",{className:y,style:k},c.createElement("label",{className:"flex flex-col items-start ".concat(E)},u&&c.createElement("span",{className:"text-sm ".concat(N)},u," ",b&&c.createElement("span",{className:"text-error"},"*")),c.createElement("div",{className:"relative w-full ".concat("w-full border rounded-md transition-all duration-200 focus:shadow-lg bg-base-200 border-base-300"," ").concat(C[p]," ").concat(f?S[f]:""," ").concat(h),ref:R,onKeyDown:function(e){T&&("ArrowDown"===e.key?U((function(e){return Math.min(e+1,V.length-1)})):"ArrowUp"===e.key?U((function(e){return Math.max(e-1,0)})):"Enter"===e.key&&I>=0?G(V[I]):"Escape"===e.key&&z(!1))},tabIndex:0},c.createElement("div",{className:"flex items-center justify-between w-full p-2 cursor-pointer",onClick:function(){return z(!T)}},c.createElement("div",{className:"flex flex-wrap gap-1"},L.length>0?s?L.map((function(e){return c.createElement("span",{key:e.value,className:"px-2 py-1 text-sm bg-gray-200 rounded-md flex items-center"},e.label,c.createElement(t.X,{size:14,className:"ml-1 cursor-pointer",onClick:function(t){t.stopPropagation(),function(e){var t=L.filter((function(t){return t!==e}));F(t),i&&i(t)}(e)}}))})):c.createElement("span",null,L[0].label):c.createElement("span",{className:"text-gray-400"},o)),c.createElement(t.ChevronDown,{size:20})),T&&c.createElement("div",{className:"absolute z-10 w-full mt-1 bg-base-100 border rounded-md shadow-lg"},!_&&c.createElement("div",{className:"p-1"},c.createElement("input",{type:"text",className:"w-full p-2 border-b bg-base-200",placeholder:"Search...",value:M,onChange:function(e){return A(e.target.value)}})),c.createElement("ul",{className:"max-h-60 overflow-auto"},V.map((function(e,t){return c.createElement("li",{key:e.value,className:"p-2 cursor-pointer hover:bg-base-200 ".concat(L.includes(e)?"bg-base-300":""," ").concat(I===t?"bg-base-300":""),onClick:function(){return G(e)}},D?D(e):e.label)})))))))},exports.Table=function(e){var r=e.tableConfig,n=void 0===r?{data:[],columns:[]}:r,a=e.isSerialized,o=void 0===a||a,l=e.size,s=void 0===l?"m":l,i=e.header,u=void 0===i||i,d=e.title,m=void 0===d?"":d;e.printSize;var p=e.sum,f=void 0!==p&&p,b=n.data,g=n.columns,h="border-collapse border w-full [&>*_th]:border [&>*_td]:border "+q[s],v=D(b),y=v.items,x=v.requestSort,E=v.sortConfig,w=O(y,g.map((function(e){return e.key}))),N=w.filteredItems,k=w.setFilter;w.filterValues;var C=_(g),S=C.columns,M=C.handleDragStart,A=C.handleDragOver,B=C.handleDrop;return c.createElement("div",{className:"bg-base-100"},u&&c.createElement("div",{className:"table-header p-2 flex justify-between border border-b-0 bg-base-200 rounded-t"},c.createElement("div",{className:"font-semibold text-lg"},m&&c.createElement("div",{className:"title"},m)),c.createElement("div",{className:"controls space-x-2 flex"},c.createElement("input",{type:"search",placeholder:"Global search",className:"border rounded text-sm px-1.5 border-secondary outline-none focus:border-primary bg-base-100",onChange:function(e){return k("global",e.target.value)}}),c.createElement("button",{onClick:function(){P(N,S,m||"table-data")},title:"Export to Excel",className:"h-8 w-8 rounded bg-success flex justify-center items-center"},c.createElement(t.ArrowDownToLine,{size:16})),c.createElement("button",{onClick:function(){L(N,S,m||"table-data")},title:"Print or Save as PDF",className:"h-8 w-8 rounded bg-primary flex justify-center items-center"},c.createElement(t.Printer,{size:16})))),c.createElement("table",{className:h},c.createElement("thead",{className:"*:bg-base-200"},c.createElement("tr",{className:"*:p-0.5"},o&&c.createElement("th",null,"#"),S.map((function(e,t){return c.createElement("th",{key:e.key,draggable:!0,onDragStart:M(t),onDragOver:A,onDrop:B(t),className:"cursor-move",onClick:function(){return x(e.key)}},e.header,(null==E?void 0:E.key)===e.key&&c.createElement("span",null,"asc"===E.direction?" ↑":" ↓"))}))),c.createElement("tr",{className:"table-col-search"},o&&c.createElement("th",null),g.map((function(e){return c.createElement("th",{key:"search-".concat(e.key),className:"!p-0.5"},c.createElement("input",{type:"search",placeholder:"Search ".concat(e.header),className:"!px-1 p-0.5 w-full font-light bg-base-100",onChange:function(t){return k(e.key,t.target.value)}}))})))),c.createElement("tbody",null,N.map((function(e,t){return c.createElement("tr",{key:"row-".concat(t)},o&&c.createElement("td",null,t+1),S.map((function(r){var n=function(e,t){if(0===e)return!0;for(var r=S[t],n=N[e][r.key],a=N[e-1][r.key],o=0;o<t;o++){var c=S[o].key;if(N[e][c]!==N[e-1][c])return!0}return n!==a}(t,S.indexOf(r));if(!n)return null;var a,o,l=function(e,t){for(var r=S[t],n=N[e][r.key],a=1,o=!0,c=e+1;c<N.length;c++){for(var l=0;l<t;l++){var s=S[l].key;if(N[c][s]!==N[e][s]){o=!1;break}}if(!o||N[c][r.key]!==n)break;a++}return a}(t,S.indexOf(r)),s=e[r.key],i=s;return"date"===r.dataType?i=j(s):"currency"===r.dataType?i=T(s):"number"===r.dataType&&(i=z(s)),c.createElement("td",{key:"cell-".concat(t,"-").concat(r.key),rowSpan:l,className:(a=r.dataType,o="",["int","float","currency","number"].includes(a||"")?o="text-right":["date","datetime"].includes(a||"")&&(o="text-center"),o)},i)})))}))),f&&c.createElement("tfoot",null,c.createElement("tr",{className:"*:bg-base-200 text-right font-bold"},o&&c.createElement("td",null),S.map((function(e){return c.createElement("td",{key:e.key},e.sum&&F(N,e.key))}))))))},exports.TextArea=function(e){var t=e.label,r=e.size,n=void 0===r?"m":r,a=e.color,o=e.required,c=e.className,s=void 0===c?"":c,d=e.wrapperClass,m=void 0===d?"":d,p=e.labelClass,f=void 0===p?"":p,b=e.labelTextClass,g=void 0===b?"":b,h=e.sx,v=e.rows,y=void 0===v?1:v,x=e.onChange,E=u(e,["label","size","color","required","className","wrapperClass","labelClass","labelTextClass","sx","rows","onChange"]);return l.default.createElement("div",{className:m,style:h},l.default.createElement("label",{className:"flex flex-col items-start ".concat(f)},l.default.createElement("span",{className:"text-sm ".concat(g)},t," ",o&&l.default.createElement("span",{className:"text-error"},"*")),l.default.createElement("textarea",i({className:"".concat("w-full border rounded-md transition-all duration-200 focus:shadow-lg bg-base-200 border-base-300"," ").concat(M[n]," ").concat(a?A[a]:""," ").concat(s),required:o,rows:y,onChange:x},E))))},exports.ThemeProvider=function(t){var r=t.children,n=e.useState("light"),a=n[0],o=n[1];return e.useEffect((function(){document.documentElement.classList.toggle("dark","dark"===a)}),[a]),l.default.createElement(B.Provider,{value:{theme:a,toggleTheme:function(){o("light"===a?"dark":"light")}}},r)},exports.exportToExcel=P,exports.exportToPDF=L,exports.formatCurrency=T,exports.formatDate=j,exports.formatNumber=z,exports.groupBy=function(e,t){return e.reduce((function(e,r){return(e[r[t]]=e[r[t]]||[]).push(r),e}),{})},exports.sumBy=F,exports.uniqueBy=function(e,t){return Array.from(new Map(e.map((function(e){return[e[t],e]}))).values())},exports.useDraggableColumns=_,exports.useFilterableData=O,exports.useSortableData=D,exports.useTheme=function(){var t=e.useContext(B);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};
//# sourceMappingURL=index.js.map
